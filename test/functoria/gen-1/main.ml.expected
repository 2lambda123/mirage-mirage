(* Geneated by functoria_test *)

let (>>=) x f = f x
let return x = x
let run x = x


module App_make__3 = App.Make(struct end)

let sys__1 = lazy (
# 24 "lib/functoria/argv.ml"
  return Sys.argv
);;

# 15 "test/main.ml"

let struct_end__2 = lazy (
  let __sys__1 = Lazy.force sys__1 in
  __sys__1 >>= fun _sys__1 ->
# 46 "lib/functoria/job.ml"
  return Functoria_runtime.(with_argv (runtime_args ()) "foo" _sys__1)
);;

# 24 "test/main.ml"

let app_make__3 = lazy (
  let __struct_end__2 = Lazy.force struct_end__2 in
  __struct_end__2 >>= fun _struct_end__2 ->
# 6 "test/functoria/gen-1/test.ml"
  App_make__3.start _struct_end__2
);;

# 33 "test/main.ml"

let () =
  let t = Lazy.force app_make__3 in
  run t
;;
